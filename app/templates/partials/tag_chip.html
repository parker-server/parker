{#
    Reusable Tag Chip
    Arguments expected in 'with':
    - type: string ('writer', 'penciller', 'character', 'team', 'location')
    - item: string (The name of the AlpineJS loop variable, e.g. 'name' or 'char')
#}

{% if type in ['writer', 'penciller', 'inker', 'colorist', 'editor'] %}
    {# Creators: Gray, slightly rounded #}
    {% set classes = "bg-gray-700 hover:bg-blue-600 hover:text-white text-gray-200 border border-transparent rounded" %}
{% elif type == 'character' %}
    {# Characters: Blue, full pill #}
    {% set classes = "bg-blue-900/30 text-blue-200 border border-blue-800 hover:bg-blue-600 hover:text-white hover:border-blue-500 rounded-full" %}
{% elif type == 'team' %}
    {# Teams: Green, full pill #}
    {% set classes = "bg-green-900/30 text-green-200 border border-green-800 hover:bg-green-600 hover:text-white hover:border-green-500 rounded-full" %}
{% elif type == 'location' %}
    {# Locations: Purple, full pill #}
    {% set classes = "bg-purple-900/30 text-purple-200 border border-purple-800 hover:bg-purple-600 hover:text-white hover:border-purple-500 rounded-full" %}
{% else %}
    {# Default #}
    {% set classes = "bg-gray-700 text-white rounded" %}
{% endif %}

<a
    :href="`/search?field={{ type }}&value=${encodeURIComponent({{ item }})}&operator=contains`"
    class="{{ classes }} px-3 py-1.5 text-sm transition-colors cursor-pointer select-none flex-shrink-0"
    x-text="{{ item }}"
></a>